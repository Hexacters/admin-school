<div class="container">

    <mat-card class="header_card">
        <p style="line-height: 30px;">
            <span style="float: left;">Add Semester</span> <span style="float: right;"><a
                    routerLink="/dashboard">Home</a> >
                Add Semester </span>
        </p>
    </mat-card>


    <mat-card class="content_box">
        <form action="" [formGroup]="objectForm" (submit)="onSubmit()">
            <div class="row m-0">
                <div class="col-md-3 mr-2 ml-3" *ngIf="isSUadmin">
                    <div class="row" style="display: flex;">
                        <label class="mb-0" for="cars">University</label>
                        <select size="1" required formControlName="universityId"
                            (ngModelChange)="selectUniversity($event)">
                            <option value="" selected>Select University</option>
                            <option *ngFor=' let university of universityList' [value]="university.id">
                                {{university.universityName}}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="col-md-3 mr-2 ml-1">
                    <div class="row" style="display: flex;">
                        <label class="mb-0" for="cars">School</label>
                        <select size="1" required formControlName="schoolName" (ngModelChange)='selectSchool($event)'>
                            <option value="" selected>Select School</option>
                            <option *ngFor=' let school of schoolList' [value]="school.id">{{school.schoolName}}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="col-md-3 mr-2 ml-1">
                    <div class="row" style="display: flex;">
                        <label class="mb-0" for="cars">Department</label>
                        <select size="1" required formControlName="departmentName"
                            (ngModelChange)='selectDepartment($event)'>
                            <option value="" selected>Select Department</option>
                            <option *ngFor=' let department of departmentList' [value]="department.id">
                                {{department.departmentName}}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3 mr-2 ml-1" *ngIf="!isSUadmin">
                    <div class="row" style="display: flex;">
                        <label class="mb-1" for="cars">programme</label>
                        <select size="1" required formControlName="programmeName"
                            (ngModelChange)='selectProgramme($event)'>
                            <option value="" selected>Select programme</option>
                            <option *ngFor=' let programme of programmeList' [value]="programme.id">
                                {{programme.programName}}</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row m-0 mt-3">
                <div class="col-md-3 mr-2 ml-3" *ngIf="isSUadmin">
                    <div class="row" style="display: flex;">
                        <label class="mb-1" for="cars">programme</label>
                        <select size="1" required formControlName="programmeName"
                            (ngModelChange)='selectProgramme($event)'>
                            <option value="" selected>Select programme</option>
                            <option *ngFor=' let programme of programmeList' [value]="programme.id">
                                {{programme.programName}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <hr />
            <div class="row m-0 mt-3">
                <div class="col-md-3 pl-1 ml-3 mr-0" formArrayName="divisionAddition" *ngIf="!isEdit">
                    <div class="row m-0 mt-4 pt-3" *ngFor="let semester of semesterList;index as i">
                        <mat-checkbox formControlName="{{i}}">Is No division</mat-checkbox>
                    </div>
                </div>
                <div class="col-md-4 pl-1 mr-1" formArrayName="semester">
                    <div class="row m-0 mt-3" *ngFor="let semester of semesterList;index as i">
                        <div class="col-md-10 p-0 m-0">
                            <p class="p-0 m-0 mb-2" style="line-height: 10px;"> Semester * </p>
                            <input type="text" required placeholder="Semester" formControlName="{{i}}">
                        </div>
                        <div class="col-md-1" style="margin-top: 20px;">
                            <button mat-mini-fab color="default" [disabled]="!i" class="shadow-none text-dark"
                                (click)='removeSemester(i)'>
                                <mat-icon [ngClass]="{'text-light': !i}">remove_circle</mat-icon>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-md-2" style="margin-top: 35px;" *ngIf="!isEdit">
                    <button mat-mini-fab color="default" class="shadow-none text-success" (click)='addSemester()'>
                        <mat-icon>add_circle</mat-icon>
                    </button>
                </div>
            </div>


            <div class="row m-0 p-2" style="margin-top: 10px;">
                <button mat-raised-button color="primary" class="ml-2" *ngIf="!isEdit" type="submit">Save</button>
                <button mat-raised-button color="primary" class="ml-2" *ngIf="isEdit" type="submit">Update</button>
                <button mat-stroked-button [color]="'warn'" class="ml-2" routerLink="/semester">Cancel</button>
            </div>
        </form>
    </mat-card>



</div>